<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nginx on SystemOut</title>
    <link>http://systemout.net/tags/nginx/</link>
    <description>Recent content in Nginx on SystemOut</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>nmj@systemout.net (Nicklas Møller Jepsen)</managingEditor>
    <webMaster>nmj@systemout.net (Nicklas Møller Jepsen)</webMaster>
    <lastBuildDate>Sun, 20 Jul 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://systemout.net/tags/nginx/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How To Setup Octopress for Jekyll on a Raspberry Pi</title>
      <link>http://systemout.net/2014/07/20/how-to-setup-octopress-for-jekyll-on-a-raspberry-pi/</link>
      <pubDate>Sun, 20 Jul 2014 00:00:00 +0000</pubDate>
      <author>nmj@systemout.net (Nicklas Møller Jepsen)</author>
      <guid>http://systemout.net/2014/07/20/how-to-setup-octopress-for-jekyll-on-a-raspberry-pi/</guid>
      <description>

&lt;h3 id=&#34;introduction:68e5c07e240ab8ba63c1b33cbb305bb3&#34;&gt;Introduction&lt;/h3&gt;

&lt;p&gt;There are several things we need to take care of to make a successful installation of Octopress on the Pi:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Prepare the Raspbian for web hosting&lt;/li&gt;
&lt;li&gt;Install NGINX&lt;/li&gt;
&lt;li&gt;Install Git&lt;/li&gt;
&lt;li&gt;Install Curl&lt;/li&gt;
&lt;li&gt;Install RVM (Ruby Version Manager) and Ruby&lt;/li&gt;
&lt;li&gt;Finally install Octopress&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;But don&amp;rsquo;t worry - all of the above is quite straight forward, although the Ruby installation might take some time.&lt;/p&gt;

&lt;h4 id=&#34;preparing-raspbian:68e5c07e240ab8ba63c1b33cbb305bb3&#34;&gt;Preparing Raspbian&lt;/h4&gt;

&lt;p&gt;First of you need a running Raspbian installation. The easiest way to get this, is by downloading it from &lt;a href=&#34;http://www.raspberrypi.org/downloads/&#34;&gt;http://www.raspberrypi.org/downloads/&lt;/a&gt;.
Follow the official instructions to get up and running.&lt;/p&gt;

&lt;p&gt;This tutorial will use the terminal/SSH from a remote computer and therefore we need to make sure we can reach it over the network.
To find the Pi&amp;rsquo;s current IP write this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ifconfig
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In my case I got a eth0 inet addr:192.168.X.YYY
When using the Pi as a web server it is a good idea to give it a static IP address. I have an DHCP server where this is handled, but if you want to set up a static IP on the Pi, here is how it is done: &lt;a href=&#34;https://wiki.debian.org/NetworkConfiguration#Configuring_the_interface_manually&#34;&gt;https://wiki.debian.org/NetworkConfiguration#Configuring_the_interface_manually&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now we can disconnect the screen and go back to our main desktop. I use Windows and therefore Putty (&lt;a href=&#34;http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe&#34;&gt;http://the.earth.li/~sgtatham/putty/latest/x86/putty.exe&lt;/a&gt;) to connect to Pi.&lt;/p&gt;

&lt;p&gt;I also like to give my computers a decent name (Raspbian sets the hostname to raspberrypi).
To change the hostname do the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo namo /etc/hostname
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Change the name to whatever you like and hit Ctrl+X, answer Y and the Enter to overwrite the file.
Now we need to update the hosts file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo nano /etc/hosts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Replace raspberrypi with the new hostname you provided in the previous step and hit Ctrl+X, answer Y and the Enter to overwrite the file.
Reboot the Pi:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo reboot
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For further info on changing the hostname of see: &lt;a href=&#34;https://wiki.debian.org/HowTo/ChangeHostname&#34;&gt;https://wiki.debian.org/HowTo/ChangeHostname&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Now that Raspbian is installed and we have access to the Pi from SSH/Putty we need to make sure it is up to date by first collecting available updates and then upgrade/install them:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install update
sudo apt-get install upgrade
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;install-nginx-curl-git-and-ruby:68e5c07e240ab8ba63c1b33cbb305bb3&#34;&gt;Install NGINX, Curl, Git and Ruby&lt;/h3&gt;

&lt;p&gt;First things first:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install nginx git curl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With my Raspbian install I actually only needed to install NGINX, but just run the above to be sure to have what wee need, no damage done.&lt;/p&gt;

&lt;p&gt;No RVM and Ruby:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;\curl -L https://get.rvm.io | bash -s stable --ruby
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;hellip;to get the latest stable RVM.
This process takes some time, on my Pi it took about &lt;strong&gt;1 and  a half hour&lt;/strong&gt;, so go watch some Simpsons. :)&lt;/p&gt;

&lt;p&gt;To start using RVM you need to run the command the installer tells you to or simply reconnect to the terminal.&lt;/p&gt;

&lt;p&gt;According to the Octopress docs, &lt;a href=&#34;http://octopress.org/docs/setup/rvm/&#34;&gt;http://octopress.org/docs/setup/rvm/&lt;/a&gt;, we need Ruby version 1.9.3.
Therefore we do the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rvm install 1.9.3
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This command also took an hour or so on my Pi, but the rest should be easyly done.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rvm use 1.9.3
rvm rubygems latest
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And now check the the correct Ruby version is used:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ruby --version
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It should display 1.9.3-something.&lt;/p&gt;

&lt;h3 id=&#34;installing-octopress:68e5c07e240ab8ba63c1b33cbb305bb3&#34;&gt;Installing Octopress&lt;/h3&gt;

&lt;p&gt;To install Octopress from Git run the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git clone git://github.com/imathis/octopress.git octopress
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;hellip;where the last option &amp;lsquo;octopress&amp;rsquo; is the name of the site/directory for your Octopress installation. I name mine according to the site I&amp;rsquo;m going to host.&lt;/p&gt;

&lt;p&gt;Now we need to install Octopress&amp;rsquo; dependencies.
Browse to the name of the directory which you specified in the git command, like so:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd octopress
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and run&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gem install bundler
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;and lastly&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bundle install
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To install the default Octopress theme:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rake install
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;setting-up-nginx:68e5c07e240ab8ba63c1b33cbb305bb3&#34;&gt;Setting up NGINX&lt;/h3&gt;

&lt;p&gt;NGINX has a folder where it stores configuration for different sites.
We use nano to create a new configuration file for our site:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo nano /etc/nginx/sites-available/DOMAIN
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then copy the following into the new file, remeber to change IPOFTHEPI and DOMAIN with your values. Also, if you gave another name for your Octopress installation in previeus steps, change the path in the location accordingly:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;server {
    listen IPOFTHEPI:80;
    server_name DOMAIN;

        location / {
            root /home/pi/octopress/public;
            index index.html index.htm;
            access_log /home/pi/octopress/source/YOURDOMAIN.access.log;
            error_log /home/pi/octopress/source/YOURDOMAIN.error.log;
        }
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Save the new file.&lt;/p&gt;

&lt;p&gt;Create a link from the created file to the NGINX enabled sites directory:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cd /etc/nginx/sites-enabled
ln -s /etc/nginx/sites-available/DOMAIN /etc/nginx/sites-enabled/DOMAIN
ls
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Restart NGINX:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/etc/init.d/nginx restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And that&amp;rsquo;s it!&lt;/p&gt;

&lt;p&gt;Now all theres left to be done, is setting up your blog/site by following the guidelines on the official Octopress web site: &lt;a href=&#34;http://octopress.org/&#34;&gt;http://octopress.org/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If you want to ease the generation and deployment process, you can build the blog on your windows machine and deploy it to the Raspberry Pi in a single click. Learn how to set this up by reading my guide here: &lt;a href=&#34;http://systemout.net/2014/12/18/how-to-build-and-deploy-octopress-with-a-single-click-p1/&#34;&gt;http://systemout.net/2014/12/18/how-to-build-and-deploy-octopress-with-a-single-click-p1/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>&#39;Moving on – WordPress to Octopress/Jekyll on a Pi&#39;</title>
      <link>http://systemout.net/2014/05/02/moving-on-wordpress-to-octopress-slash-jekyll-on-a-pi/</link>
      <pubDate>Fri, 02 May 2014 00:00:00 +0000</pubDate>
      <author>nmj@systemout.net (Nicklas Møller Jepsen)</author>
      <guid>http://systemout.net/2014/05/02/moving-on-wordpress-to-octopress-slash-jekyll-on-a-pi/</guid>
      <description>

&lt;p&gt;This 1 post is part of a series of posts.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Summary (this post)&lt;/li&gt;
&lt;li&gt;The Pi: &lt;a href=&#34;http://systemout.net/2014/07/20/how-to-setup-octopress-for-jekyll-on-a-raspberry-pi/&#34;&gt;http://systemout.net/2014/07/20/how-to-setup-octopress-for-jekyll-on-a-raspberry-pi/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The Blog&lt;/li&gt;
&lt;li&gt;The Rest (including the network)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;introduction:5242ebc0f1909014c89a5f31ee286dd7&#34;&gt;Introduction&lt;/h3&gt;

&lt;p&gt;The look ’n feel of the blog has changed, as you may have noticed.
The reason for this is simple; slow performance, increasing cost to hosting and pure curiosity, got me into migrating the existing WordPress solution into a static Octopress on Jekyll solution. Oh, and the new solution is hosted on a Raspberry Pi, &lt;a href=&#34;http://swag.raspberrypi.org/collections/frontpage/products/raspberry-pi-model-b&#34; target=&#34;_blank&#34;&gt;model B&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The result is amazing – the average response time is down around 400 MS after little over a week on the pie. Before it was about 1,5-2 secs.
In this post I’ll explain how the migration is done and which challenges I faced. I will not go into details, but I will provide you with the links to some great articles I used along the way.&lt;/p&gt;

&lt;h3 id=&#34;summary:5242ebc0f1909014c89a5f31ee286dd7&#34;&gt;Summary&lt;/h3&gt;

&lt;p&gt;First a brief summary of the steps required.
The Pi:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Install Raspbian&lt;/li&gt;
&lt;li&gt;Setup static IP&lt;/li&gt;
&lt;li&gt;Install NGINX&lt;/li&gt;
&lt;li&gt;Install RVM&lt;/li&gt;
&lt;li&gt;Install Ruby&lt;/li&gt;
&lt;li&gt;Install Octopress&lt;/li&gt;
&lt;li&gt;Configuration of NGINX/Octopress&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The Blog:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Download existing post, comments, pages, etc&lt;/li&gt;
&lt;li&gt;Convert to Octopress/Jekyll format&lt;/li&gt;
&lt;li&gt;Upload to Pi&lt;/li&gt;
&lt;li&gt;Build the new Blog&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The Network:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;DNS&lt;/li&gt;
&lt;li&gt;NAT on home network&lt;/li&gt;
&lt;li&gt;Limit torrents!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In the next post, I will dig into the details in configuring the Pi, and that post is available right here: &lt;a href=&#34;http://systemout.net/2014/07/20/how-to-setup-octopress-for-jekyll-on-a-raspberry-pi/&#34;&gt;http://systemout.net/2014/07/20/how-to-setup-octopress-for-jekyll-on-a-raspberry-pi/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>