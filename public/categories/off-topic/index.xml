<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Off Topic on SystemOut</title>
    <link>http://localhost:1313/categories/off-topic/</link>
    <description>Recent content in Off Topic on SystemOut</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>nmj@systemout.net (Nicklas Møller Jepsen)</managingEditor>
    <webMaster>nmj@systemout.net (Nicklas Møller Jepsen)</webMaster>
    <lastBuildDate>Wed, 09 Jul 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/categories/off-topic/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How To Host a Transmission Daemon part 1</title>
      <link>http://localhost:1313/2014/07/09/how-to-host-a-transmission-daemon/</link>
      <pubDate>Wed, 09 Jul 2014 00:00:00 +0000</pubDate>
      <author>nmj@systemout.net (Nicklas Møller Jepsen)</author>
      <guid>http://localhost:1313/2014/07/09/how-to-host-a-transmission-daemon/</guid>
      <description>

&lt;p&gt;If you want to skip to the &amp;ldquo;How to install transmission daemon on the Pi, look here: &lt;a href=&#34;http://systemout.net/2014/07/09/setting-up-transmission-on-a-raspberry-pi/&#34;&gt;http://systemout.net/2014/07/09/setting-up-transmission-on-a-raspberry-pi/&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;first-a-disclaimer:d29c37ebdd62edfaa4980756b87b72e5&#34;&gt;First a disclaimer&amp;hellip;&lt;/h2&gt;

&lt;p&gt;I started out wanting to host a Transmission Daemon on a Raspberry Pi for some simple reasons; I wanted a torrent client which was always on, accessible from all my devices, and easy to use. I had a Transmission Daemon running on my NAS, but I have decided to let my NAS do what is is best at: Serving as a storage device, and nothing more. To keep the cost down, and because I thought it would be exciting (which it was!), I decided to install Transmission on a Raspberry Pi.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;But then all the &amp;lsquo;fun&amp;rsquo; began&amp;hellip;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Short story: I mounted a network share where the Pi shoud download files to, after long strugling whith permissions I found out that the CPU usage was extensive when writing directly from Transmission to the share. Or, I thought that was the issue..
To optimize I mounted a USB drive to the Pi and used it as a placeholder for downloads in progress only to see that the CPU usage was still in the extreme zone.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s why I decided to go back to my Hyper-V hosted Transmission Daemon.&lt;/p&gt;

&lt;p&gt;For all of this not to be a total waste of time (oh btw, it isn&amp;rsquo;t - I&amp;rsquo;ve learned a lot), I have decided to publish the procedure of how I did setup the Pi to host Transmission, how I mounted the share, how I formatted the external USB disk and how it all came up and running.
Furthermore I will describe how I installed Transmission on Windows Server 2012 r2 and how it is running now.&lt;/p&gt;

&lt;h3 id=&#34;why-i-skipped-the-transmission-daemon-on-the-pi:d29c37ebdd62edfaa4980756b87b72e5&#34;&gt;Why I skipped the Transmission Daemon on the Pi&lt;/h3&gt;

&lt;p&gt;Look at the CPU usage Transmission:
&lt;img src=&#34;http://systemout.net/images/TopCpu.png&#34; alt=&#34;CPU usage&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;And I did only manage to get download speeds of around 1-2 mb/s:
&lt;img src=&#34;http://systemout.net/images/TransmissionWeb.png&#34; alt=&#34;Trasnmission UI&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Now, have a look at the post about how to set the Transmission up on the Pi and please leave comments, if you find a better way, or even a way where you are able to get descent download speeds:
&lt;a href=&#34;http://systemout.net/2014/07/09/setting-up-transmission-on-a-raspberry-pi&#34;&gt;http://systemout.net/2014/07/09/setting-up-transmission-on-a-raspberry-pi&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How To Host a Transmission Daemon part 2</title>
      <link>http://localhost:1313/2014/07/09/setting-up-transmission-on-a-raspberry-pi/</link>
      <pubDate>Wed, 09 Jul 2014 00:00:00 +0000</pubDate>
      <author>nmj@systemout.net (Nicklas Møller Jepsen)</author>
      <guid>http://localhost:1313/2014/07/09/setting-up-transmission-on-a-raspberry-pi/</guid>
      <description>

&lt;h2 id=&#34;setting-up-transmission-on-a-raspberry-pi:348dea259e91783c75366aabbad13fcc&#34;&gt;Setting Up Transmission on a Raspberry Pi&lt;/h2&gt;

&lt;p&gt;Before you start, please read why &lt;strong&gt;I&amp;rsquo;m not using the Pi for Transmission&lt;/strong&gt;: &lt;a href=&#34;http://systemout.net/2014/07/09/how-to-host-a-transmission-daemon/&#34;&gt;http://systemout.net/2014/07/09/how-to-host-a-transmission-daemon/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The setup: A Raspberry Pi with Raspbian, a NAS with a share for the downloads
As you probably are well aware of the Pi OS is installed on a SD card. The Pi needs an OS and for that I used Raspbian.
Normally I am a Windows user and there fore I used a tool called Win32 Disk Imager to prepare the SD card with Raspbian. It is easy to use and can be downloaded here: &lt;a href=&#34;http://sourceforge.net/projects/win32diskimager/&#34;&gt;http://sourceforge.net/projects/win32diskimager/&lt;/a&gt;
You just give it the Raspbian IMG file that you can download (as a torrent, of course), from here: &lt;a href=&#34;http://downloads.raspberrypi.org/raspbian_latest.torrent&#34;&gt;http://downloads.raspberrypi.org/raspbian_latest.torrent&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Once this is done, insert the card in to Pi, boot the device and follow the on screen instructions to finish configuring Raspbian. There’s nothing special to notice about the configuration with regards to using it with Transmission.&lt;/p&gt;

&lt;h3 id=&#34;mounting-the-share:348dea259e91783c75366aabbad13fcc&#34;&gt;Mounting the share&lt;/h3&gt;

&lt;p&gt;Because we want Transmission to download files to a network share, we need to mount this first.
There are many ways to mount a share, but I used quite a lot of time to find the most conveinient for my setup, because I needed the share to be mounted on reboot, there where some issues regarding the permissions and also some troubles with the security. But after all of that were tried and tested, I ended up with the following commands in terminal/putty/whatever:
(Open the fstab file, the place where mount points can be specified)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo nano /etc/fstab
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;(Insert line at buttom)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;//&amp;lt;ip of NAS&amp;gt;/&amp;lt;name of share&amp;gt; /mnt/shares/downloads cifs username=&amp;lt;username on NAS&amp;gt;,password=&amp;lt;password on NAS&amp;gt;,sec=ntlm,uid=1000,gid=1000 0 0
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Press Ctrl+X Y Enter&lt;/p&gt;

&lt;p&gt;Okay, to sum up: We inserted a line in the fstab file telling that we want to mount a share on &lt;ip of NAS&gt;/&lt;name of share&gt; in location /mnt/shares/downloads. Further more we are using the cifs protocol and provide a username and password &lt;strong&gt;used to log on to the NAS&lt;/strong&gt;. We need to define NTLM as the security we are using because of something with the cifs protocol (can’t remember were I read about it, but it works!). Last we are mounting with user 1000 (pi) as owners.&lt;/p&gt;

&lt;p&gt;After that we save the fstab file by pressing Ctrl+X answering Y to save and Enter to overwrite.
Now we need to create the mount folder:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo mkdir /mnt/shares/downloads
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;installing-transmission:348dea259e91783c75366aabbad13fcc&#34;&gt;Installing Transmission&lt;/h3&gt;

&lt;p&gt;First some basics:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get update
sudo apt-get upgrade    
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then install Transmission:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo apt-get install transmission-daemon
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Stop the Transmission Daemon, we need to do some configuration:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service transmission-daemon stop 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then modify the default transmission user, the daemon-transmission:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo usermod -a -G debian-transmission pi
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And then let the user access the download folder:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;chgrp debian-transmission /mnt/shares/downloads
chmod 770 /mnt/shares/downloads
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we need to enable the Pi user (our user) to have ownership of Transmission files and add the Pi user to the debian-transmission group:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo adduser pi debian-transmission 
sudo nano /etc/init.d/transmission-daemon 
sudo chown pi -R /var/lib/transmission-daemon/info/ 
sudo chown pi -R /etc/transmission-daemon/settings.json 
sudo chown pi -R /mnt/shares/downloads
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now before we start the Transmission Daemon, we need to change its configuration, to allow remote access and set the username and password. This is done by modifying the settings.json and we do this in nano:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo nano /etc/transmission-daemon/settings.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There are plenty of settings to play around with, but you probably want to change the following:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;“incomplete-dir-enabled”: false,
“download-dir”: “/mnt/shares/downloads”,
“rpc-password”: “&amp;lt;yourpassword&amp;gt;”,
“rpc-username”: “&amp;lt;yourusername&amp;gt;”,
“rpc-whitelist-enabled”: false,
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Only set the whitelist setting, if you want to connect from other clients then the Pi you are installing on.
Save the file; Ctrl+X Y and Enter.&lt;/p&gt;

&lt;p&gt;Now we can start Transmission:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sudo service transmission-daemon start
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>uTorrent/BitTorrent Disk Overloaded Fix</title>
      <link>http://localhost:1313/2012/03/23/utorrentbittorrent-disk-overloaded-fix/</link>
      <pubDate>Fri, 23 Mar 2012 00:00:00 +0000</pubDate>
      <author>nmj@systemout.net (Nicklas Møller Jepsen)</author>
      <guid>http://localhost:1313/2012/03/23/utorrentbittorrent-disk-overloaded-fix/</guid>
      <description>

&lt;p&gt;This post is definitely not about programming, but I wasn’t able to find a fix for the uTorrent Disk Overloaded problem and decided to make a post about the solution.&lt;/p&gt;

&lt;p&gt;But first the problem: When downloading torrents using uTorrent/BitTorrent I have recently experienced a constant Disk Overloaded error displaying in the status bar causing any torrents to download at about max. 400-500 kb/sec. This is definitely not very nice if you’re downloading the newest Windows 8 beta’s or other large files.&lt;/p&gt;

&lt;p&gt;The problem is obviously caused by uTorrent trying to write extremely often to the disk and therefore it just took 2 changes to the settings before my download speed accelerated again.&lt;/p&gt;

&lt;h1 id=&#34;uncheck-the-write-out-settings:33c6b5a183a1c76864a87ffcf12247ee&#34;&gt;Uncheck the write out settings&lt;/h1&gt;

&lt;p&gt;There are some post suggesting to uncheck the ‘Enable caching of disk writes’ but that just seems wrong, because we DO want to cache the writes so we’re not writing to the disk constantly. However the 2 sub settings we do want to uncheck; ‘Write out untouched blocks every 2 minutes’ and ‘ Write out finished pieces immediately’. Especially the last one is important.&lt;/p&gt;

&lt;p&gt;So here’s my settings:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://systemout.net/wp-content/uploads/2012/03/uTorrent.png&#34;&gt;&lt;img style=&#34;background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px&#34; title=&#34;uTorrent&#34; border=&#34;0&#34; alt=&#34;uTorrent&#34; src=&#34;http://systemout.net/wp-content/uploads/2012/03/uTorrent_thumb.png&#34; width=&#34;669&#34; height=&#34;498&#34; /&gt;&lt;/a&gt;&amp;nbsp;&lt;/p&gt;

&lt;script async src=&#34;//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js&#34;&gt;&lt;/script&gt;
&lt;!-- links1 --&gt;
&lt;ins class=&#34;adsbygoogle&#34;
     style=&#34;display:inline-block;width:728px;height:15px&#34;
     data-ad-client=&#34;ca-pub-5807169669170468&#34;
     data-ad-slot=&#34;6444119354&#34;&gt;&lt;/ins&gt;
&lt;script&gt;
(adsbygoogle = window.adsbygoogle || []).push({});
&lt;/script&gt;

&lt;p&gt;For the record; I also changed the cache size to 1800 and disabled Windows caching of disk reads/writes – not sure if that has any effect.&lt;/p&gt;

&lt;div style=&#34;font-size:0px;height:0px;line-height:0px;margin:0;padding:0;clear:both&#34;&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>